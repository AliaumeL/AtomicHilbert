% Little math macros
\NewDocumentCommand{\set}{ m }{\{ #1 \}}
\NewDocumentCommand{\setof}{ m m }{\{ #1 \mid #2 \}}
\NewDocumentCommand{\card}{ m }{\left| #1 \right|}
\NewDocumentCommand{\seqof}{ m O{n \in \N} }{\left( #1 \right)_{#2}}

\NewDocumentCommand{\defined}{ }{\triangleq}
\newcommand{\defiff}{\overset{\mathrm{def}}{\iff}}
\newcommand{\defeq}{\overset{\mathrm{def}}{=}}

\newcommand{\subfin}{\subset_{\text{fin}}}
\newcommand{\subseteqfin}{\subseteq_{\text{fin}}}

\NewDocumentCommand{\EXPTIME}{}{\ensuremath{\mathsf{EXPTIME}}}

\NewDocumentCommand{\range}{ O{1} m }{[#1, #2]}

% functions of all sorts (injective, partial, surjective)
\newcommand{\topartial}{\rightharpoonup}
\newcommand{\toinj}{\hookrightarrow}
\newcommand{\tosurj}{\twoheadrightarrow}
\newcommand{\tobij}{\stackrel{\simeq}{\longrightarrow}}


% Automate the creation of new orderings
% based on a given symbol.
% For instance,
% \NewDocumentOrdering{\pref}{\preceq}{\prec}
% will create the following commands:
% \prefleq and \preflt
% that will respectively expand to
% \mathrel{\kl[\pref]{\preceq}} and \mathrel{\kl[\pref]{\prec}}
\NewDocumentCommand{\NewDocumentOrdering}{ m m m }{
    \expandafter\newcommand\csname #1leq\endcsname{
        \mathrel{\kl[#1]{#2}}
    }
    \expandafter\newcommand\csname #1lt\endcsname{
        \mathrel{\kl[#1]{#3}}
    }
    \knowledge{#1}{notion}
}

% Order macros
\NewDocumentCommand{\upset}{ O{} m }{{\uparrow_{#1} #2}}
\NewDocumentCommand{\dwset}{ O{} m }{{\downarrow_{#1} #2}}


% Number theory
\NewDocumentCommand{\factorial}{ O{} m }{
    \if\relax\detokenize{#1}\relax
        #2!
    \else
        (#2)!
    \fi
}

\newcommand{\A}{\mathcal{A}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\X}{\mathcal{X}}
\newcommand{\Y}{\mathcal{Y}}

% group actions
\newcommand{\actson}{\curvearrowright}

% orders 
\NewDocumentCommand{\divleq}{}{
    \mathrel{\sqsubseteq^{\mathrm{div}}}
}
\NewDocumentCommand{\gdivleq}{ O{\group} }{
  \mathrel{\kl[\gdivleq]{\sqsubseteq^{\mathrm{div}}_{#1}}}
}
\knowledge{\gdivleq}{notion}

\NewDocumentCommand{\monord}{}{\sqsubseteq}

\NewDocumentOrdering{revlex}{\sqsubseteq_{\mathsf{RevLex}}}{\sqsubset_{\mathsf{RevLex}}}
\NewDocumentOrdering{lex}{\sqsubseteq_{\mathsf{Lex}}}{\sqsubset_{\mathsf{Lex}}}

\NewDocumentCommand{\Basis}{O{B}}{\mathcal{#1}}
\NewDocumentCommand{\LBasis}{O{B} m}{\mathcal{#1}_{#2}}


\NewDocumentCommand{\Indets}{}{\mathcal{X}}

\NewDocumentCommand{\idl}{O{I}}{\mathcal{#1}}
\NewDocumentCommand{\IdlGen}{ m }{\withkl{\kl[\IdlGen]}{
  \mathopen{\cmdkl{\langle}}
  #1
\mathclose{\cmdkl{\rangle}}}}
\knowledge{\IdlGen}{notion}

\NewDocumentCommand{\EqIdlGen}{ O{\group} m }{\withkl{\kl[\EqIdlGen]}{
  \mathopen{\cmdkl{\langle}}
  #2 
  \mathclose{\cmdkl{\rangle}}_{#1}}}
\knowledge{\EqIdlGen}{notion}


\newcommand{\poly}[2]{#1[#2]}
\newcommand{\aut}[2][]{\mathsf{Aut}_{#1}{(#2)}}
\newcommand{\mon}[2][]{\mathsf{Mon}_{#1}(#2)}
\newcommand{\perm}[1]{\mathsf{Perm}(#1)}
\newcommand{\otu}[2]{#1^{(#2)}}
\newcommand{\group}{\mathcal{G}}
\newcommand{\gen}[2]{\langle #1\rangle_{#2}}
\newcommand{\radoG}{\mathbb{G}_{\mathsf{Rado}}}
\newcommand{\radoV}{\mathbb{V}_{\mathsf{Rado}}}
\newcommand{\radoE}{\mathbb{E}_{\mathsf{Rado}}}
\newcommand{\cycleSet}[1][]{\mathsf{Cycles}_{#1}}


\NewDocumentCommand{\FixG}{ O{\group} m }{{#1}^{\kl[\FixG]{\mathsf{fix}}}_{#2}}
\knowledge{\FixG}{notion}

\NewDocumentCommand{\monelt}{ O{m} }{\mathfrak{#1}}

\newcommand{\ordinal}{\eta}



\NewDocumentCommand{\gelem}{ O{\pi} }{\mathgr{#1}}

\newcommand{\hbp}{\text{Hilbert's basis property}}
\newcommand{\orbit}[2][]{\mathsf{orbit}_{#1}{(#2)}}

\newcommand{\order}[1][]{\prec_{#1}}
\newcommand{\ordereq}[1][]{\preceq_{#1}}

\NewDocumentCommand{\sOrderLt}{O{S}}{\prec_{#1}}
\NewDocumentCommand{\sOrderLeq}{O{S}}{\preceq_{#1}}

\newcommand{\revlex}[1][]{<_{\mathsf{RevLex}}^{#1}}
\newcommand{\revlexeq}[1][]{\leq_{\mathsf{RevLex}}^{#1}}
\newcommand{\gr}{Gr\"{o}bner}
\newcommand{\dom}{\mathsf{dom}}
\newcommand{\spoly}[2]{\mathsf{D}(#1,#2)}
\newcommand{\spolyset}{\mathsf{DSet}}
\newcommand{\spolytext}{$\mathsf{S}$-polynomial}
\newcommand{\lcm}{\mathsf{LCM}}
\newcommand{\lc}[1][]{\mathsf{LC}_{#1}}
\newcommand{\lt}[1][]{\mathsf{LT}_{#1}}
\newcommand{\reducstep}[1]{\to_{#1}}
\newcommand{\reduc}[1]{\to^*_{#1}}
\newcommand{\rem}[2]{\mathsf{Rem}_{#1}(#2)}
\newcommand{\closure}[1]{\widehat{#1}}
\newcommand{\wforder}{\triangleleft}

\newcommand{\lm}[1][]{\mathop{\mathsf{LM}_{#1}}}
\newcommand{\cm}[1][]{\mathop{\mathsf{CM}_{#1}}}

\newcommand{\probBasic}[4]
{
\begin{flalign*}
\quad
\begin{tabular}{l  l}
  \multicolumn{2}{l}{\mathsf{#1}}\\
  \textbf{Input:}    & #2 \\
  \textbf{#4} & #3
\end{tabular}
&&
\end{flalign*}
}

\newcommand{\prob}[3]
{
\probBasic{#1}{#2}{#3}{Question:}
}

\NewDocumentOrdering{pmon}{\preceq}{\prec}
\NewDocumentCommand{\pmoneq}{}{\mathrel{\kl[pmon]{\equiv}}}


%  ORDINALS, PARTIAL ORDERINGS, AND THEIR OPERATIONS
\newcommand{\ordfin}[1]{\kl[\ordfin]{#1}}
\newcommand{\om}{\kl[\om]{\omega}}
\newcommand{\ordplus}{\mathrel{\kl[\ordplus]{+}}}
\knowledge{\ordplus}{notion}
\knowledge{\ordfin}{notion}
\knowledge{\om}{notion}
