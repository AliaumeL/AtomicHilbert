%!TEX root = ../atomic.asmart.tex
% LTeX: language=en
\section{Undecidability Results}
\label{sec:undecidability}

In this section, we will show that under certain conditions,
the \kl{equivariant ideal membership problem} is undecidable. We aim to show
that it is the case when we assume the usual effectiveness conditions on the
group action, but we do not assume that 
$(\mon{\Indets}, \gdivleq)$ is a well-quasi-ordering.
Beware though that there are some pathological cases where
the \kl{equivariant ideal membership problem} is undecidable even when
$(\mon{\Indets}, \gdivleq)$ is not a well-quasi-ordering,
as illustrated by the following example.

\begin{example}
  \label{ex:non-wqo-undecidable}
  Let $\Indets = \{x_1, x_2, \ldots\}$ be an infinite set of indeterminates,
  and let $\group$ be trivial group acting on $\Indets$.
  Then, the \kl{equivariant ideal membership problem} is decidable.
\end{example}
\begin{proof}
  Because the group is trivial, whenever one provides a finite set
  $H$ of generators of an \kl{equivariant ideal} $I$, one can
  in fact work in $\poly{\K}{V}$, where $V$ is the set of indeterminates
  that appear in $H$.
  Then, the \kl{equivariant ideal membership problem} is reduces to 
  the \kl{ideal membership problem} in $\poly{\K}{V}$, which is decidable.
\end{proof}

\subsection{Interpreting Paths}
\label{subsec:paths}

In this section, we will assume that the set of indeterminates $\Indets$
contains an infinite path $P \defined \seqof{x_i}[i \in \N] \subseteq \Indets$,
that is, a set of indeterminates such that $\group$ acts on $\Indets$ as a
translation of the indices, that is, for all $\gelem \in \group$ such that
$\gelem \cdot P \subseteq P$, there exists $n \in \N$ such that $\gelem \cdot
x_i = x_{i + n}$ for all $i \in \N$.

\begin{definition}
  \label{def:mon-rewrite-system}
  A \intro{monomial rewrite system} is a finite set of pairs of the form
  $(\monelt, \monelt')$ where $\monelt, \monelt' \in \mon{\Indets}$.
  The \intro{monomial reachability problem} is the problem of deciding whether
  there exists a sequence of rewrites that transforms $\monelt_s$ into $\monelt_t$
  using the rules of a monomial rewrite system $R$, where
  a \intro{rewrite step} is a pair of the form
  \begin{equation*}
    \monelt[n] (\gelem \cdot \monelt)
    \to_R 
    \monelt[n] (\gelem \cdot \monelt')
    \text{ if } (\monelt, \monelt') \in R
    \text{ and } \gelem \in \group
    \quad .
  \end{equation*}
\end{definition}


\begin{lemma}
  \label{lem:mon-rewrite-red-membership}
  One can solve the \kl{monomial reachability problem} in polynomial time
  provided that one can solve the \kl{equivariant ideal membership problem}.
\end{lemma}
\begin{proof}
  Let $R$ be a monomial rewrite system, and let $\monelt_s, \monelt_t \in
  \mon{\Indets}$ be two monomials. We can encode the problem of deciding whether
  $\monelt_s$ can be rewritten into $\monelt_t$ using the rules of $R$ as an
  instance of the \kl{equivariant ideal membership problem} as follows:
  \begin{itemize}
    \item Let $H$ be the set of all polynomials of the form $\monelt - \monelt'$
      for all pairs
      $(\monelt, \monelt') \in R$.
    \item Then, we ask whether $\monelt_s - \monelt_t$ belongs to the ideal generated by $H$.
  \end{itemize}

  It is clear that if $\monelt_s$ can be rewritten into $\monelt_t$ using the
  rules of $R$, then $\monelt_s - \monelt_t$ belongs to the equivariant ideal generated by
  $H$. Conversely, if $\monelt_s - \monelt_t$ belongs to the ideal generated by
  $H$, then 
  \begin{equation}
    \label{eq:mon-rewrite-red-membership}
    \monelt_s - \monelt_t 
    = 
    \sum_{i=1}^n a_i \monelt[n]_i (\gelem_i \cdot \monelt_i - \gelem_i \cdot \monelt'_i)
    \quad .
  \end{equation}

  Let us write the (finite) graph $G$ whose vertices are the monomials
  $\monelt[n] (\gelem_i \cdot \monelt_i)$ and $\monelt[n] (\gelem_i \cdot
  \monelt'_i)$, and whose edges are the directed weighted edges labelled by
  $a_i$ (in a direction that makes the weight positive).

  Let us remark that $\monelt_s$ must be a vertex of $G$, because $\monelt_s -
  \monelt_t$ is a linear combination of the elements of $H$. Similarly,
  $\monelt_t$ must be a vertex of $G$. Even more, we know that the sum of the
  weights of the edges having $\monelt_s$ as a source or target equals $1$,
  because of \cref{eq:mon-rewrite-red-membership}. Similarly, the sum of the
  weights of the edges having $\monelt_t$ as a source or target equals $-1$.
  Finally, for every vertex $v$ of $G$ that is not 
  $\monelt_s$ or $\monelt_t$, the sum of the weights of the edges
  having $v$ as a source or target is $0$, again because of an analysis
  of the coefficient of $v$ in the sum of \cref{eq:mon-rewrite-red-membership}.

  Hence, the graph $G$ is a flow network, with a flow value of at least $1$
  from $\monelt_s$ to $\monelt_t$. As a consequence, there must exist a path
  from $\monelt_s$ to $\monelt_t$ in $G$.
  Therefore, one can rewrite $\monelt_s$ into $\monelt_t$ using the rules of $R$.
\end{proof}
\todo[inline]{
  We can encode the PCP problem 
  in this case. The idea is to 
  write the words over a binary alphabet 
  as monomials, we distinguish "last" letters of both words
  and encode the PCP problem as follows:
  $1 \in \IdlGen{H}$, where $H$ is a set of \emph{binomials},
  that encode the fact that one can replace both "last" letters
  by corresponding words simultaneously, and that 
  one can remove "identified letters".
}

\subsection{Infinite Vector Space}
\label{subsec:vector}





