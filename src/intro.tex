%!TEX root = ../atomic.ieee.tex
% LTeX: language=en
\section{Even newer introduction}
%
Consider the system $P$ of polynomial equations
\[
x^2 + yz = 2\ , \quad
x\neq y\neq z\in\Indets
\]
over a set of variables $\Indets$.
If $\Indets$ is finite then weak nullstellensatz \cite[\S 1 Theorem 1]{Cox2015Dict} says that $P$ has a complex solution if and only if the ideal $\idl[P]$ generated by the set of polynomials
\[
P' = \setof{x^2 + yz - 2}{x\neq y\neq z\in\Indets}
\]
does not contain the constant polynomial $1$.
The ideal $\idl[P]$ contains $1$ if and only if any(each) of its \Grbs{} \cite[\S 5 Definition 1]{Cox2015Grb} contains $1$.  
So to check if $P$ has a solution we need to compute a \Grb{} of $\idl[P]$.
This poses no problem since by Hilbert's basis theorem every ideal has a \Grb{} \cite[\S 5 Corollary 6]{Cox2015Grb},
and given a finite set of polynomials $B$ one can use the Buchberger's algorithm  to find a \Grb{} of the ideal generated by $B$ \cite[\S 7 Theorem 2]{Cox2015Grb}.

\Grbs{} are also useful for other computational purposes as well,
the most important of which is the decidability of the ideal membership problem:
given a polynomial $f$ and a finite set of polynomials $B$,
is $f$ in the ideal generated by $B$.

If $\Indets$ is countably infinite, one can still use the version of weak nullstellensatz give in \cite[Page 1]{LangNull}.
However, ideals in $\poly{\K}{\Indets}$ can have arbitrary behaviours which makes difficult to extend the notion of \Grbs{} in an useful way.
For example,
if $\Indets$ is the set of configurations of a deterministic Turing machine,
then the ideal generated by
\[
\setof{x - y}{x\to y}
\]
contains a polynomial $u - v$ if and only if $u$ is reachable by $v$.
Thus one must restrict to a specific class of ideals that are better behaved.
The class we are interested in this article is the class of ideals that are \kl{equivariant}, i.e.\ invariant under certain permutations of the variables.
For example, consider the ideal $\idl[P]$ we defined above,
that is generated by the sets
\[
P' = \setof{x^2 + yz - 2}{x\neq y\neq z\in\Indets} \ .
\]
For any $x\neq y\neq z\in\Indets$, a permutation $\pi$ of $\Indets$ takes the polynomial $x^2 + yz - 2$ to the polynomial $\pi(x)^2 + \pi(y)\pi(z) - 2$.
Let $\perm{\Indets}$ denote the set of all permutations of $\Indets$.
The set $P'$ is equivariant w.r.t. $\perm{\Indets}$, i.e.invariant under the permutations of $\Indets$.
Thus $\idl[P]$ is also equivariant (w.r.t. $\perm{\Indets}$).
With some difficulty we can prove:
%
\begin{lemma}
The ideal $\idl[P]$ is not finitely generated.
\end{lemma}
%
However, once we allow application of permutations while generating the ideal,
$\idl[P]$ is generated by any(every) polynomial.
Stated differently, for any $x\neq y\neq z$, $\idl[P]$ is the smallest ideal containing the polynomial $x^2 + yz - 2$.
Thus $\idl[P]$ is finitely generated as an equivariant ideal.
In fact \cite[Proposition 2]{COHEN67} shows that every equivariant ideal in $\poly{\K}{\Indets}$ is finitely generated.
This line of research continues in \cite{Emmott87} which extends the notions of a \Grbs{} and Buchberger's algorithm to this setting.
The above-mentioned results were rediscovered in \cite{AH07,AH08,HKL18}.
In \cite{HS12} these results were used to prove the Independent Set Conjecture in
algebraic statistics.
In \cite{HS12}, the authors also showed that one can even take a submonoid $\calM$ of $\inc{<}$ and prove existence and computability of finite Gr\"{o}bner basis assuming that $\gdivleq[\calM]$ is a well-partial-order.
These results were independently generalised in \cite{GHOLAS24} and \cite{LauSno23} which study ideals that are equivariant w.r.t. a subgroup $\group$ of permutations of $\Indets$.
In particular \cite[Theorem 11 and 12, Lemma 13]{GHOLAS24} and \cite[Proposition 3.2, Proposition 3.3]{LauSno23} give a necessary and a sufficient condition on the group $\group$ for the \kl{Equivariant Hilbert basis property}:
ideals that are equivariant w.r.t. $\group$ are finitely generated. 
The necessary and sufficient conditions are equivalent up to a well-known conjecture by Pouzet \cite[Problems 12]{POUZ24}.

\arka{write using homogeneous languages.
Can specify contributions more clearly. And also specify how much it differs from before.
Add a comment that every oligomorphic structure is homogeneous with a (possibly infinite) relational language}

This results imply the Noetherian property of vector subspaces that are equivariant with respect to the action of a group $\group$ satisfying the sufficient conditions (\cite[Page 21]{BFKM24} and \cite[Theorem 27]{GHOLAS24}),
and also the decidability of the zero-ness problem of weighted register automata
(\cite[Theorem 30 and Remark 33]{GHOLAS24}).
%
\subsection{Contribution}
%
In this paper, we bridge the gap between the
theoretical understanding of the \intro{equivariant Hilbert basis property} \cite[Property 4]{GHOLAS24}, and the computational aspects of \kl{equivariant
ideals}, by showing that a mild strengthening of the  sufficient condition for the \kl{Equivariant Hilbert basis property} guarantees computability of \kl{equivariant Gröbner bases} of an \kl{equivariant ideal} (\Cref{thm:compute-egb}).
We also show that


This result along also implies we can solve equations,
but does not tell us how the solution looks

we rectify the situation by 

this implies wqo implies extremely amenable

%
\section{Introduction}
\label{sec:intro}

\AP For a field $\K$ and a non-empty set $\Indets$ of indeterminates, we use
$\poly{\K}{\Indets}$ to denote the ring of polynomials with coefficients from $\K$
and indeterminates/variables from $\Indets$. A fundamental result in commutative
algebra is \intro{Hilbert's basis theorem}, stating that when $\Indets$ is finite,
every ideal in $\poly{\K}{\Indets}$ is finitely generated \cite{HILB1890}, where an
\kl{ideal} is a non-empty subset of $\poly{\K}{\Indets}$ that is closed under
addition and multiplication by elements of $\poly{\K}{\Indets}$. This property can
be rephrased as the fact that the set of polynomials $\poly{\K}{\Indets}$ is
\intro{Noetherian}. \kl{Hilbert's basis theorem} extends to the case where $\K$
is a ring that is itself \kl{Noetherian} \cite[Theorem 4.1]{Lang02}.

\AP A \Grb\ is a specific kind of generating set of a polynomial ideal
which allows easy checking of membership of a given polynomial in that ideal.
\kl{Gr\"{o}bner bases} were introduced by Buchberger who showed when $\Indets$ is
finite, every ideal in $\poly{\K}{\Indets}$ has a finite \kl{Gr\"{o}bner basis} and
that, for a given a set of polynomials in $\poly{\K}{\Indets}$, one can compute a
finite \kl{Gröbner basis} of the ideal generated by them via the so-called
\intro{Buchberger algorithm} \cite{BUCH76}. The
existence and computability of \Grbs\ implies the decidability of the
\kl{ideal membership problem}: given a polynomial $f$ and set of polynomial
$H$, decide whether $f$ is in the ideal generated by $H$. The theory of
\kl{Gr\"{o}bner bases} has applications in very diverse areas of computer
science, including integer programming \cite{Sturmfels96}, algebraic proof
systems \cite{algProof}, geometric reasoning \cite{Cox2015chGeom}, fixed
parameter tractability \cite{ACDM22}, program analysis \cite{SSM04} and
constraint satisfaction problems \cite{Mas21}.
In automata theory it has been used for deciding zeroness of polynomial
automata \cite{BEDUSHWO17}, reachability in symmetric Petri nets \cite{MAME82},
equivalence for string-to-string transducers \cite{HONKALA00} and equivalence
of polynomial differential equations \cite{CLEMENTE24}. 

\AP There has been a growing interest in the last few years for computational
models that are manipulating infinite data structures in a finite way, for
instance an automaton reading words on the infinite alphabet $\N$, while
maintaining a finite number of states. While this idea can be traced back to
the 90s with the notion of register automata \cite{KAFR94}, it has been revived
in with the development of the theory of \emph{orbit finite sets}. In this
setting, one would like to consider an infinite set of variables $\Indets$. As an
example, let us consider the set $\Indets$ of variables $x_i$ for $i \in \N$, and
the \kl{ideal} $\idlZ$ generated by the set $\setof{x_i}{i \in \N}$. It is
clear that $\idlZ$ is not finitely generated, and we conclude that the
\kl{Hilbert's basis theorem} (and a fortiori, the \kl{Gr\"{o}bner basis}
theory) does not extend to the case of infinite sets of indeterminates.

\AP However, in the applications mentionned above, the infinite set of
variables (data) comes with an extra structure: the behaviour of the considered
systems are invariant under the action of a group $\group$ on $\Indets$. The action
of this $\group$ on $\Indets$ naturally induces an action on $\poly{\K}{\Indets}$, by
renaming the variables. The typical example is the group of all permutations of
$\Indets$, which corresponds to seeing $\Indets$ as a set of \emph{indistinguishable}
names: one is not interested in the ideal $\idlZ$ generated by the set
$\setof{x_i}{i \in \N}$, but rather in the \kl{equivariant ideal} generated by
the set $\setof{x_i}{i \in \N}$, which is the smallest ideal that contains it
and is invariant under the action of $\group$. In this case, this ideal is
finitely generated by a single indeterminate, e.g. $x_1$. Please note that
equivariance does not imply finite generation in general: for instance, the
ideal $\idlZ$ is not finitely generated as an equivariant ideal with respect to
the trivial group.


\subsection{Related Research}
The above-mentioned results were rediscovered in \cite{AH07,AH08,HKL18}. In
\cite{HS12} these results were used to prove the Independent Set Conjecture in
algebraic statistics. In \cite{HS12}, the authors also showed that one can even
take a submonoid $\calM$ of $\inc{<}$ and prove existence and computability of
finite Gr\"{o}bner basis assuming that $\gdivleq[\calM]$ is a
well-partial-order. These results were significantly generalised in
\cite{GHOLAS24}, which gives a necessary and a sufficient condition on the
actions $\group\actson\Indets$ for the \kl{Equivariant Hilbert basis property}
to hold \cite[Theorems 11 and 12, Lemma 13]{GHOLAS24}. The necessary and
sufficient conditions are equivalent up to a well-known conjecture by Pouzet
\cite[Problems 12]{POUZ24}. But to obtain decision procedures, one still lacks
a generalisation of \kl{Buchberger's algorithm} to the equivariant case, except
under artificial extra assumptions \cite[Section 6]{GHOLAS24}. Overall, a
general understanding of the decidability of the \kl{equivariant ideal
membership problem} is still missing, and \emph{a fortiori}, a generalisation
of \kl{Buchberger's algorithm} to the equivariant case is still an open
problem.

Our results are part of a larger research direction that aims at establishing
an algorithmic theory of computation with orbit-finite sets. For instance,
\cite{BFKM24} studies equivariant subspaces of vector spaces generated by
orbit-finite sets, \cite{GHL22,GHL25} study solvability of orbit-finite systems
of linear equations and inequalities, and \cite{BFKM24,GHL22,Prz23} study duals
of vector spaces generated by orbit-finite sets.

\subsection{Contributions.}
\AP In this paper, we bridge the gap between the
theoretical understanding of the \intro{equivariant Hilbert basis property}
 \cite[Property 4]{GHOLAS24}, and the computational aspects of \kl{equivariant
ideals}, by showing that under mild assumptions on the group action, one can
compute an \kl{equivariant Gröbner basis} of an \kl{equivariant ideal}, hence,
that one can decide the \kl{equivariant ideal membership problem}. In order to
compute such sets, we will need to introduce some classical \kl{computability
assumptions} on the group action $\group \actson \Indets$, and on the set of
indeterminates $\Indets$. These will be defined in
\cref{sec:preliminaries}, but informally, we assume
that one can compute representatives of the orbits of elements under the action
of $\group$ (this is called \kl{effective oligomorphism}), and that one has
access to a total ordering on $\Indets$ that is computable, and
\kl(ord){compatible} with the action of $\group$. Please note that the ordering
on $\Indets$ is not required to be well-founded, and a typical example of our
computable assumptions would be the set $\Q$ of rationals, equipped with the
natural ordering $\leq$ and the group $\group$ would be the group of all
monotone bijections from $\Q$ to itself.

\AP Let us now focus on the mild semantic assumption that we will need to make
on the set of indeterminates $\Indets$ and the group $\group$, that will
guarantee the termination of our procedures. We refer to our preliminaries
(\cref{sec:preliminaries}) for a more detailed
discussion on these assumptions, but again informally, we ask that the set of
\kl{monomials} $\mon{\Indets}$ is well-behaved with respect to divisibility up
to the action of $\group$, which we write as the fact that $(\mon{\Indets},
\gdivleq)$ is a \kl{well-quasi-ordering} (\kl{WQO}). It is known from that this
is a necessary condition for the \kl{equivariant Hilbert basis property}
\cref{thm:equiv-hilbert-property}, and we will rely on a slightly stronger
condition, namely that $(\mon[Y]{\Indets}, \gdivleq)$ is a \kl{WQO}, whenever
$(Y, \leq)$ is one, which is conjectured to be equivalent to the first
condition. Beware that \cref{thm:equiv-hilbert-property,thm:compute-egb}
are
incomparable: the former does not talk about decidability, while the latter 
only considers \kl{equivariant ideals} that are already finitely presented, and we 
will show in
\cref{ex:non-wqo-undecidable} an example where \kl{equivariant
Gröbner bases} are computable, but the \kl{Hilbert basis property} fails.

\begin{theorem}[name={\cite[Theorem 11 and 12]{GHOLAS24}}]
  \label{thm:equiv-hilbert-property}
  Let $\Indets$ be a totally ordered set of indeterminates
  equipped with a group action $\group \actson \Indets$ that is 
  \kl(ord){compatible} with the ordering on $\Indets$.
  Then, $(\mon[\om]{\Indets}, \gdivleq)$ is a \kl{WQO}, if and only if 
  the \kl{equivariant Hilbert basis property} holds for $\poly{\K}{\Indets}$.
\end{theorem}

\begin{theorem}[name={Equivariant Gröbner Basis},restate=thm:compute-equiv-gb]
  \label{thm:compute-egb}
  Let $\Indets$ be a totally ordered set of indeterminates
  equipped with a group action $\group \actson \Indets$, under our \kl{computability assumptions}.
  If $(\mon[Y]{\Indets}, \gdivleq)$ is a \kl{WQO} for every 
  \kl{well-quasi-ordered} set $(Y,\leq)$, then one can
  compute an \kl{equivariant Gröbner bases} of \kl{equivariant ideals}.
\end{theorem}

\AP To prove our \cref{thm:compute-egb}, we will first introduce a weaker
notion of \kl{weak equivariant Gröbner basis}, which characterises the results
obtained by naïvely adapting \kl{Buchberger's algorithm} to the equivariant
case. Then, we will show that under our \kl{computability assumptions}, one can
start from a finite set of generators $H$ of an \kl{equivariant ideal}, and
compute a well-chosen \kl{weak equivariant Gröbner basis}, which happens to be
an \kl{equivariant Gröbner basis} of the ideal generated by $H$. As a
consequence, we obtain effective representations of \kl{equivariant ideals},
over which one can check membership, inclusion, and compute the sum and
intersection of \kl{equivariant ideals}
(\cref{cor:equivariant-ideals-computations}).

\AP We then focus on providing undecidability results for the \kl{equivariant
ideal membership problem} in the case where our effective assumptions are
satisfied, but the \kl{well-quasi-ordering} condition is not. This aims at
illustrating the fact that our assumptions are close to optimal. One classical
way for a set of structures to not be \kl{well-quasi-ordered} (when labelled
using integers) is to have the ability to represent an \emph{infinite path} (a
formal definition will be given in
\cref{sec:undecidability}). We prove that
whenever one can (effectively) represent an infinite path in the set of
\kl{monomials} $\mon{\Indets}$, then the \kl{equivariant ideal membership
problem} is undecidable.

\begin{theorem}[name={Undecidability of Equivariant Ideal Membership},restate=thm:undecidable-paths]
  \label{thm:undecidable-paths}
  Let $\Indets$ be a totally ordered set of indeterminates
  equipped with a group action $\group \actson \Indets$, under our \kl{computability assumptions}.
  If $\Indets$ contain an \kl(of){infinite path}
  then the \kl{equivariant ideal membership problem} is undecidable.
\end{theorem}

Finally, we illustrate how our positive results find applications in numerous
situations. This is done by providing families indeterminates that satisfy our
\kl{computability assumptions}, and for which we can compute \kl{equivariant
Gröbner bases}, and also by showing how our results can be used in the context
of \kl{topological well-structured transition systems} \cite{JGL10}, with
applications do the verification of infinite state systems such as orbit
finite weighted automata \cite{BOKLMO21}, \kl{orbit finite polynomial
automata}, and more generally orbit finite systems dealing with polynomial
computations.

\paragraph{Organisation.} \AP The rest of the paper is organised as follows. In
\cref{sec:preliminaries}, we introduce formally the notions of \kl{Gröbner
bases}, \kl{effectively oligomorphic} actions, and \kl{well-quasi-orderings},
which are the main assumptions of our positive results. Then, we illustrate in
\cref{sec:act ex} how these assumptions can be satisfied in practice, providing
numerous examples of sets of indeterminates. After that, we introduce in
\cref{sec:weakgb} an adaptation of \kl{Buchberger's algorithm} to the
equivariant case, that computes a \kl{weak equivariant Gröbner basis} of an
\kl{equivariant ideal}. In \cref{sec:equivariant-grobner-basis}, we use
\kl{weak equivariant Gröbner bases} to prove our main positive
\cref{thm:compute-egb}, and we show that it provides a way to effectively
represent \kl{equivariant ideals} (\cref{cor:equivariant-ideals-computations}).
We continue by showing in \cref{sec:closure-properties} that the assumptions of our
\cref{thm:compute-egb} are closed under two natural operations
(\cref{lem:closure-properties-comp,lem:closure-properties-wqo}). The positive
results regarding the \kl{equivariant ideal membership problem} are then
leveraged to obtain several decision procedures for other problems in
\cref{sec:applications}. Finally, in \cref{sec:undecidability}, we show that
our assumptions are close to optimal by proving that the \kl{equivariant ideal
membership problem} is undecidable whenever one can find \kl(of){infinite
paths} in the set of indeterminates (\cref{thm:undecidable-paths}), which is
conjectured to be a complete characterisation of the undecidability of the
\kl{equivariant ideal membership problem} (\cref{rem:conj-wqo-infinite-path}).