%!TEX root = ../atomic.asmart.tex
% LTeX: language=en
\section{Preliminaries}
\label{sec:preliminaries}

\paragraph{Partial orders, ordinals, and well-quasi-ordered sets.} \AP We
assume basic familiarity with partial orders and ordinals. In particular, we
will use the notation $\intro*\om$ for the first infinite ordinal (that is,
$(\N, \leq)$), and write $X \intro*\ordplus Y$ for the lexicographic sum of two
partial orders $X$ and $Y$. We will also use the usual notations for finite
ordinals, writing $\intro*\ordfin{n}$ for the finite ordinal of size $n$. For
instance, $\om \ordplus \ordfin{1}$ is the total order $\N \uplus
\set{+\infty}$, where $+\infty$ is the new largest element.

\AP In order to guarantee the termination of the algorithms presented in this
paper, a key ingredient will be the notion of \intro{well-quasi-ordering}
(WQO), that are sets $(X, \leq)$ such that every infinite sequence
$\seqof{x_i}[i \in \N]$ of elements of $X$ contains a pair $i < j$ such that
$x_i \leq x_j$.

\paragraph*{Polynomials.} \AP 
We assume basic familiarity with the theory of
commutative algebra, and polynomials. We will use the notation $\poly{\K}{\X}$
for the ring of polynomials with coefficients from a field $\K$ and
indeterminates/variables from a set $\X$, and $\mon{\X}$ for the set of
monomials in $\poly{\K}{\X}$. Letters $p,q,r$ are used to denote polynomials,
$\monelt,\monelt[n]$ are used to denote monomials, and $a,b,\alpha,\beta$ are
used to denote coefficients in $\K$.

A classical example of a \kl{WQO} is the set of monomials $\mon{\X}$, endowed
with the \kl{divisibility} relation $\divleq$ whenever $\X$ is finite. We
recall that a monomial $\monelt[m]$ \intro{divides} a monomial $\monelt[n]$ if
there exists a monomial $\monelt[l]$ such that $\monelt[m] \times \monelt[l] =
\monelt[n]$. In this case, we write $\monelt[m] \divleq \monelt[n]$. Note that
monomials can be seen as functions from $\X$ to $\N$ having a finite support,
and that the \kl{divisibility} relation can be extended to monomials that are
functions from $\X$ to $(X,\leq)$, where $X$ is any partially ordered set. In
this case, we write $\monelt[m] \divleq \monelt[n]$ if for every $x \in \X$, we
have $\monelt[m](x) \leq \monelt[n](x)$. We will write
$\intro*\mon[\omega+1]{\X}$ (resp. $\mon[\omega+\omega]{\X}$) for the set of
monomials that are functions from $\X$ to $\omega + 1$ (resp. $\omega +
\omega$).



Given an ordering $\varleq$ on the set of indeterminates $\Indets$, we define
the \intro{reverse lexicographic} (revlex) ordering on monomials as follows:
$\monelt[n] \revlexlt \monelt[m]$ if there exists an indeterminate $x \in \X$
such that $\monelt[n](x) < \monelt[m](x)$, and such that for every $y \in \X$,
if $x \varlt y$ then $\monelt[n](y) = \monelt[m](y)$. Remark that if
$\monelt[n] \revlexleq \monelt[m]$, then in particular $\monelt[n] \divleq
\monelt[m]$. 

\AP We can now use the \kl{revlex} ordering to identify particular elements in
a given polynomial. Namely, for a polynomial $p \in \poly{\K}{\X}$, we define
the \intro{leading monomial} $\lm(p)$ of $p$ as the largest monomial appearing
in $p$ with respect to the \kl{revlex} ordering, and the \intro{leading
coefficient} $\lc(p)$ of $p$ as the coefficient of $\lm(p)$ in $p$. We can then
define the \intro{leading term} $\lt(p)$ of $p$ as the product of its
\kl{leading monomial} and its \intro{leading coefficient}, and the
\intro{characteristic monomial} $\cm(p)$ of $p$ as the product of its
\kl{leading monomial} and all the indeterminates appearing in $p$. Because the
coefficients and monomial in question are highly dependent on the ordering
$\varleq$, we allow ourselves to write $\lm[\Indets](p)$ to highlight the
precise ordered set of variables that was used to compute the \kl{leading
monomial} of $p$.


\paragraph{Gröbner Bases.} \AP An \intro{ideal} $\idl$ of $\poly{\K}{\X}$ is a
non-empty subset of $\poly{\K}{\X}$ that is closed under addition and
multiplication by elements of $\poly{\K}{\X}$. Given a set $H \subseteq
\poly{\K}{\X}$, we denote by $\intro*\IdlGen{H}$ the ideal generated by $H$,
i.e. the smallest ideal that contains $H$. The \intro{ideal membership problem}
is the following decision problem: given a polynomial $p \in \poly{\K}{\X}$ and
a set of polynomials $H \subseteq \poly{\K}{\X}$, decide whether $p$ belongs to
the ideal $\IdlGen{H}$ generated by $H$. We know that this problem is decidable
when $\X$ is finite, and that it is even $\EXPTIME$-complete \cite{MAME82}.

\AP The classical approach to the \kl{ideal membership problem} is to use the
\kl{Gröbner basis} theory that was developed in the 70s by Buchberger
\cite{BUCH76}. Having fixed and ordering $\varleq$ on $\Indets$, a set $\Basis$
of polynomials is called a \intro{Gröbner basis} of an ideal $\idl$ if,
$\IdlGen{\Basis} = \idl$ and for every polynomial $p \in \idl$, there exists a
polynomial $q \in \Basis$ such that $\lm[\Indets](q) \divleq \lm[\Indets](p)$.



\paragraph{Group actions and equivariant ideals.}  A \intro{group} $\group$ is
a set equipped with a binary operation that is associative, has an identity
element and has inverses. In our setting, we are interested in infinite sets
$\X$ of indeterminates that is equipped with a \intro{group action} $\group
\actson \X$. This means that for each $\gelem \in \group$, we have a bijection
$\X \tobij \X$ that we denote by $x \mapsto \gelem  \cdot x$. A set $S
\subseteq \X$ is \intro{equivariant} under the action of $\group$ if for all
$\gelem \in \group$ and $x \in S$, we have $\gelem \cdot x \in S$. We give in
\cref{ex:idl-equiv} an example and a non-example of \kl{equivariant ideals}.

\begin{example}
    \label{ex:idl-equiv}
    Let $\X$ be any infinite set, and $\group$ be the 
    group of all bijections of $\X$. 
    Then the set $S_0 \subset \poly{\K}{\X}$ of all polynomials 
    whose set of coefficients sums to $0$ is an equivariant ideal.
    Conversely, the set of all polynomials that are multiple
    of $x \in X$ is an \kl{ideal} that is not \kl{equivariant}.
\end{example}
\begin{proof}
    Let $p,q\in S_0$, and $r \in \poly{\K}{\X}$.
    Then, $p \times r + q$ is in $S_0$. Remark that 
    $p,r$ and $q$ belong to a subset $\poly{\K}{\Y}$ of the 
    polynomials that uses only finitely many indeterminates.
    In this subset, the sum of all coefficients is obtained
    by applying the polynomials to the value $1$ for every indeterminate
    $y \in \Y$. We conclude that
    $(p \times r + q)(1,\dots, 1) 
    = p(1,\dots,1) \times r(1,\dots,1) + q(1,\dots,1)
    = 0 \times r(1, \dots, 1) + 0 = 0$, hence that
    $p \times r + q$ belongs to $S_0$. 
    Because $0$ is in $S_0$, we conclude that $S_0$ is an \kl{ideal}.
    Furthermore, if $\gelem \in \group$ and $p \in S_0$, then
    the sum of the coefficients $\gelem \cdot p$ is exactly
    the sum of the coefficients of $p$, hence is $0$ too.
    This shows that $S_0$ is \kl(ideal){equivariant}.

    It is clear that all multiples of a given polynomial $x \in \X$
    is an ideal of $\poly{\K}{\X}$. This is not an \kl{equivariant ideal}:
    take any bijection $\gelem \in \group$ that does not map $x$ to $x$ (it
    exists because $\X$ is infinite and $\group$ is all permutations),
    then $\gelem \cdot x$ is not a multiple of $x$, and therefore does 
    not belong to the ideal.
\end{proof}

\AP A group action $\group \actson \X$ is said to be \intro{compatible} with an
ordering $\leq$ on $\X$ if for all $\gelem \in \group$ and $x,y \in \X$, we
have $x \leq y$ if and only if $\gelem \cdot x \leq \gelem \cdot y$. Let us
point out that in this case, $\revlexleq$ is also \kl{compatible} with the
action of $\group$ on $\mon{\X}$, i.e. for all $\gelem \in \group$ and
monomials $\monelt[m], \monelt[n] \in \mon{\X}$, we have
$\monelt[m] \revlexleq \monelt[n]$ if and only if $\gelem \cdot \monelt[m]
\revlexleq \gelem \cdot \monelt[n]$.


\AP Given a monomial $\monelt[m] \in \mon{\X}$, we define the
\intro(monomial){domain} of $\monelt[m]$ as the set $\dom(\monelt[m])$ of
indeterminates $x \in \X$ such that $\monelt[m](x) \neq 0$. Note that the
domain of a monomial is equivariant: if $\gelem \in \group$, then $\gelem \cdot
\dom(\monelt[m]) = \dom(\gelem \cdot \monelt[m])$.



We say that the action is
\intro{effectively oligomorphic} if \todo{do it}.

We know from \cite{GHOLAS24} that a necessary condition for the \kl{equivariant
Hilbert basis property} to hold is that the set  $\mon{\X}$  of monomials is a
\kl{well-quasi-ordering} when endowed with the \intro{divisibility up-to
$\group$} relation ($\intro*\gdivleq$), which is defined as follows: for
$\monelt_1, \monelt_2 \in \mon{\X}$, we write $\monelt_1 \gdivleq \monelt_2$ if
there exists $\gelem \in \group$ such that $\monelt_1$ \kl{divides} $\gelem
\cdot \monelt_2$. Let us recall that a monomial $\monelt[m]$ \intro{divides} a
monomial $\monelt[n]$ if there exists a monomial $\monelt[l]$ such that
$\monelt[m] \times \monelt[l] = \monelt[n]$. This relation also extends to
monomials that are functions from $\X$ to $(X,\leq)$ with finite support, where
$X$ is any partially ordered set.

\AP Having fixed an ordering $\varleq$ on the set $\Indets$ of indeterminates,
we say that a set $\Basis \subseteq \poly{\K}{\X}$ is an \intro{equivariant
Gröbner basis} of an equivariant ideal $\idl$ if $\Basis$ is \kl{equivariant},
$\IdlGen{\Basis} = \idl$, and for every polynomial $p \in \idl$, there exists
$q \in \Basis$ such that $\lm[\varleq](q) \gdivleq \lm[\varleq](p)$ and
$\dom(q) \subseteq \dom(p)$.

Beware that even in the case of a finite set of variables, a \kl{Gröbner basis}
is not necessarily an \kl{equivariant Gröbner basis}, because of the
\kl{domain} condition. However, every \kl{equivariant Gröbner basis} is a
\kl{Gröbner basis}.
